{"hierarchy":{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture","modules":[{"projects":[{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial","sections":[{"kind":"task","reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Creating-a-parent-view-with-a-child-view"},{"kind":"task","reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Child-to-Parent"},{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Parent-to-Child","kind":"task"},{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Testing-the-communication","kind":"task"}]}],"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/Composing-features"}],"paths":[["doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture","doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/$volume","doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/Composing-features"]]},"sections":[{"title":"Building a Parent-Child Relationship","chapter":"Composing features","content":[{"type":"paragraph","inlineContent":[{"text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them.","type":"text"}]}],"kind":"hero","estimatedTimeInMinutes":20},{"tasks":[{"stepsSection":[{"media":null,"code":"01-01-01-code-0001.swift","runtimePreview":"01-01-01-image-0001.png","type":"step","caption":[],"content":[{"inlineContent":[{"text":"Create a new file named ","type":"text"},{"code":"ChildFeature.swift","type":"codeVoice"},{"type":"text","text":". This feature contains decrement and increment buttons with a label specifying the current value, which can be tapped to reset its value to zero."}],"type":"paragraph"}]},{"type":"step","content":[{"inlineContent":[{"text":"Create a new file named ","type":"text"},{"type":"codeVoice","code":"ParentFeature.swift"},{"type":"text","text":" with some basic scaffolding in place."}],"type":"paragraph"}],"media":null,"code":"01-01-01-code-0002.swift","caption":[{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"Since TCA 1.8, the @Reducer macro automatically fulfills the reducer requirements. The parent reducer does not have any state, actions, or logic yet, so we can omit them.","type":"text"}]}]}],"runtimePreview":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s compose the features together at the reducer level."}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add State and Action to the reducer. The parent reducer will hold the state and actions of the child reducer."}]}],"type":"step","code":"01-01-01-code-0003.swift","media":null,"caption":[],"runtimePreview":null},{"runtimePreview":null,"code":"01-01-01-code-0004.swift","caption":[{"type":"aside","style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It exposes child state and actions to the parent reducer."}]}]}],"content":[{"type":"paragraph","inlineContent":[{"text":"Next, we need to implement the body of the reducer. To compose the child reducer within the parent reducer, we use the ","type":"text"},{"isActive":true,"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope","type":"reference"},{"type":"text","text":" reducer. This allows us to focus on a sub-domain of the parent feature and run a child reducer on that sub-domain."}]}],"media":null,"type":"step"},{"inlineContent":[{"type":"text","text":"Let’s compose the features together at the view level."}],"type":"paragraph"},{"media":null,"caption":[],"code":"01-01-01-code-0005.swift","content":[{"inlineContent":[{"text":"Use the ","type":"text"},{"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/store\/scope(state:action:)-90255","type":"reference","isActive":true},{"type":"text","text":" method on the store to derive a child store focused in on just the child domain."}],"type":"paragraph"}],"type":"step","runtimePreview":"01-01-01-image-0005.png"},{"type":"paragraph","inlineContent":[{"text":"The two views are now composed together:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"The parent state consists of its own values and the child state."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The parent reducer receives every action dispatched by the child reducer."}]}]},{"content":[{"inlineContent":[{"text":"The child store is a scoped variant of the parent store.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}],"title":"Creating a parent view with a child view","anchor":"Creating-a-parent-view-with-a-child-view","contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"We will compose the parent and child features together."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is a practice that enables us to build complex functionality by combining smaller, more manageable features."}]}],"mediaPosition":"trailing"}]},{"title":"Communication from Child to Parent","contentSection":[{"content":[{"inlineContent":[{"text":"Parent-child communication refers to the exchange of information or triggering of actions between hierarchical views.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The terms “parent” and “child” are used to describe the relationship between different components or modules within an app.","type":"text"}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"anchor":"Communication-from-Child-to-Parent","stepsSection":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s see how the child should communicate with a parent feature."}]},{"inlineContent":[{"type":"text","text":"If the parent needs to respond to events happening in the child, it can simply listen to the corresponding actions that arrive in the reducer."}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We just need to add an action to listen to from the child reducer."}]}],"code":"01-01-02-code-0001.swift","runtimePreview":"01-01-02-video-0001.mp4","caption":[{"type":"aside","content":[{"inlineContent":[{"type":"text","text":"This is possible thanks to the "},{"isActive":true,"type":"reference","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope"},{"type":"text","text":" reducer."}],"type":"paragraph"}],"style":"note","name":"Note"}],"type":"step","media":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"There is no need to add extra code to be aware of the current state of the child reducer since the parent reducer has a reference to it."}]},{"type":"paragraph","inlineContent":[{"text":"As we can see, TCA follows a strict unidirectional data flow pattern (state flows from parent to child, events flows from child to parent…) which enforces immutability and a single source of truth. As the app grows, it simplifies handling complex interactions and state management.","type":"text"}]}]},{"contentSection":[{"mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We’ve seen how the child communicates with its parent. The same approach cannot be followed from parent to child."}]}],"kind":"contentAndMedia"}],"title":"Communication from Parent to Child","stepsSection":[{"type":"paragraph","inlineContent":[{"text":"If the parent wants to execute some logic within the child by reusing one of its actions, it should be done by directly invoking the child reducer.","type":"text"}]},{"runtimePreview":"01-01-03-video-0001.mp4","code":"01-01-03-code-0001.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"To send an action from the parent to the child, invoke the child reducer using a reduce method. For example, if we want to ensure that the count never goes lower than zero, we can reuse a reset action."}]}],"type":"step","caption":[{"type":"aside","style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Find more details on sharing logic in child features "},{"type":"reference","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/performance\/#Sharing-logic-in-child-features","isActive":true},{"type":"text","text":"."}]}]}],"media":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"If the parent needs to update the state of the child without any shared logic available, we can create an extension on the child state."}]},{"code":"01-01-03-code-0002.swift","type":"step","runtimePreview":"01-01-03-video-0002.mov","content":[{"type":"paragraph","inlineContent":[{"text":"We implement a mutating method where we update any necessary state and return an action. For example, let’s say we want to set the initial count to 10.","type":"text"}]}],"caption":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It is better to use a mutating method rather than updating the child state directly from the parent reducer, as a new child reducer would be recreated, potentially leading to lost states and increased complexity."}]}],"style":"note","name":"Note","type":"aside"}],"media":null}],"anchor":"Communication-from-Parent-to-Child"},{"stepsSection":[{"inlineContent":[{"type":"text","text":"Before we perform any assertions, the State must be "},{"code":"Equatable","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"},{"media":null,"type":"step","caption":[],"code":"01-01-04-code-0001.swift","content":[{"type":"paragraph","inlineContent":[{"text":"In order to assert against sent actions from the parent store, its ","type":"text"},{"code":"State","type":"codeVoice"},{"text":" must be ","type":"text"},{"type":"codeVoice","code":"Equatable"},{"text":".","type":"text"}]}],"runtimePreview":null},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to assert against sent actions from the child store, its "},{"type":"codeVoice","code":"State"},{"type":"text","text":" must also be "},{"code":"Equatable","type":"codeVoice"},{"type":"text","text":"."}]}],"caption":[],"runtimePreview":null,"type":"step","media":null,"code":"01-01-04-code-0002.swift"},{"media":null,"type":"step","runtimePreview":null,"caption":[{"style":"note","name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/xcode\/swift-testing\/","type":"reference"},{"text":" framework is used.","type":"text"}]}]}],"content":[{"inlineContent":[{"text":"Let’s begin by creating a ","type":"text"},{"code":"ParentFeatureTests.swift","type":"codeVoice"},{"text":" file with some basic scaffolding set up for the test.","type":"text"}],"type":"paragraph"}],"code":"01-01-04-code-0003.swift"},{"media":null,"content":[{"inlineContent":[{"type":"text","text":"Let’s first set up our test store and then assert how the state changes when the "},{"code":"onAppear","type":"codeVoice"},{"type":"text","text":" action is sent to the store."}],"type":"paragraph"}],"code":"01-01-04-code-0004.swift","runtimePreview":null,"type":"step","caption":[{"name":"Note","style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"A ","type":"text"},{"code":"TestStore","type":"codeVoice"},{"type":"text","text":" provides a controlled environment for testing components of the architecture, such as reducers and effects."}]}]}]},{"caption":[{"content":[{"inlineContent":[{"type":"text","text":"Since TCA 1.9, we can use case key paths with the send method. This simplifies integration-style tests that send deeply-nested actions and aligns with the syntax of the receive method. Find more details "},{"type":"reference","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9#Sending-test-store-actions","isActive":true},{"type":"text","text":"."}],"type":"paragraph"}],"type":"aside","style":"note","name":"Note"}],"code":"01-01-04-code-0005.swift","content":[{"inlineContent":[{"text":"Finally, we’ll ensure the count value is correct by testing the increment, decrement, and reset behaviors of our child feature.","type":"text"}],"type":"paragraph"}],"runtimePreview":null,"media":null,"type":"step"}],"anchor":"Testing-the-communication","title":"Testing the communication","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TCA facilitates unit testing by enabling isolated testing of components with well-defined inputs and outputs. This is achieved thanks to the reducers, which separate business logic from UI."}]},{"inlineContent":[{"type":"text","text":"Reducers are functions that take the current state and an action as input and return a new state as output."}],"type":"paragraph"}]}]}],"kind":"tasks"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/learnwithromain\/parentchildtutorial"]}],"kind":"project","identifier":{"url":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial","interfaceLanguage":"swift"},"metadata":{"role":"project","category":"The Composable Architecture","title":"Building a Parent-Child Relationship","categoryPathComponent":"RefineComposableArchitecture"},"references":{"01-01-02-code-0001.swift":{"fileType":"swift","highlights":[{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27}],"identifier":"01-01-02-code-0001.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .child(.incrementButtonTapped):","                \/\/ We listen to the incrementButtonTapped child action","                return .none","            default:","                return .none","            }","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","        }","    }","}",""],"fileName":"ParentFeature.swift","syntax":"swift","type":"file"},"01-01-01-code-0004.swift":{"fileName":"ParentFeature.swift","identifier":"01-01-01-code-0004.swift","type":"file","syntax":"swift","highlights":[{"line":16},{"line":17},{"line":18},{"line":19}],"content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            \/\/ Core logic of the app feature","            return .none","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        EmptyView()","    }","}",""],"fileType":"swift"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Testing-the-communication":{"url":"\/tutorials\/learnwithromain\/parentchildtutorial#Testing-the-communication","title":"Testing the communication","abstract":[{"text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them.","type":"text"}],"identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Testing-the-communication","role":"pseudoSymbol","kind":"section","type":"section"},"https://developer.apple.com/xcode/swift-testing/":{"title":"Swift Testing","titleInlineContent":[{"type":"text","text":"Swift Testing"}],"url":"https:\/\/developer.apple.com\/xcode\/swift-testing\/","identifier":"https:\/\/developer.apple.com\/xcode\/swift-testing\/","type":"link"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Communication-from-Parent-to-Child":{"url":"\/tutorials\/learnwithromain\/parentchildtutorial#Communication-from-Parent-to-Child","title":"Communication from Parent to Child","abstract":[{"type":"text","text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them."}],"identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Parent-to-Child","role":"pseudoSymbol","kind":"section","type":"section"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial":{"type":"topic","url":"\/tutorials\/learnwithromain\/parentchildtutorial","kind":"project","estimatedTime":"20min","title":"Building a Parent-Child Relationship","abstract":[{"type":"text","text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them."}],"role":"project","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial"},"01-01-01-image-0005.png":{"variants":[{"url":"\/images\/com.learnwithromain.learnwithromain\/01-01-01-image-0005.png","traits":["1x","light"]}],"alt":"iOS application showing a text view in the center displaying a 0 and two buttons positioned on each side of it, one for decrementing the count and one for incrementing.","identifier":"01-01-01-image-0005.png","type":"image"},"01-01-03-video-0002.mov":{"variants":[{"traits":["1x","light"],"url":"\/videos\/com.learnwithromain.learnwithromain\/01-01-03-video-0002.mov"}],"type":"video","poster":null,"identifier":"01-01-03-video-0002.mov","alt":null},"01-01-01-code-0005.swift":{"content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            \/\/ Core logic of the app feature","            return .none","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","        }","    }","}",""],"fileName":"ParentFeature.swift","highlights":[{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36}],"syntax":"swift","fileType":"swift","identifier":"01-01-01-code-0005.swift","type":"file"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Creating-a-parent-view-with-a-child-view":{"role":"pseudoSymbol","abstract":[{"text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them.","type":"text"}],"kind":"section","title":"Creating a parent view with a child view","url":"\/tutorials\/learnwithromain\/parentchildtutorial#Creating-a-parent-view-with-a-child-view","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Creating-a-parent-view-with-a-child-view","type":"section"},"01-01-03-video-0001.mp4":{"poster":null,"alt":null,"variants":[{"url":"\/videos\/com.learnwithromain.learnwithromain\/01-01-03-video-0001.mp4","traits":["1x","light"]}],"identifier":"01-01-03-video-0001.mp4","type":"video"},"01-01-04-code-0005.swift":{"fileType":"swift","highlights":[{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25}],"identifier":"01-01-04-code-0005.swift","content":["import ComposableArchitecture","import Testing","","struct ParentFeatureTests {","    @Test func parentFeature() async {","        let store = await TestStore(","            initialState: ParentFeature.State(child: ChildFeature.State(count: 0)),","            reducer: ParentFeature.init","        )","        ","        await store.send(\\.onAppear) {","            $0.child.count = 10","        }","        ","        await store.send(\\.child.incrementButtonTapped) {","            $0.child.count = 11","        }","        ","        await store.send(\\.child.resetTapped) {","            $0.child.count = 0","        }","        ","        await store.send(\\.child.decrementButtonTapped) {","            $0.child.count = -1","        }","    }","}"],"fileName":"ParentFeatureTests.swift","syntax":"swift","type":"file"},"doc://com.learnwithromain.learnwithromain/tutorials/RefineComposableArchitecture/Composing-features":{"type":"topic","url":"\/tutorials\/refinecomposablearchitecture\/composing-features","kind":"article","title":"Composing features","abstract":[],"role":"article","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/Composing-features"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Communication-from-Child-to-Parent":{"url":"\/tutorials\/learnwithromain\/parentchildtutorial#Communication-from-Child-to-Parent","title":"Communication from Child to Parent","abstract":[{"type":"text","text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them."}],"identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Child-to-Parent","role":"pseudoSymbol","kind":"section","type":"section"},"01-01-03-code-0002.swift":{"type":"file","highlights":[{"line":13},{"line":23},{"line":24},{"line":25},{"line":26},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":50},{"line":51},{"line":52}],"fileType":"swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","        case onAppear","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .onAppear:","                return state.child","                    .updateNumber(with: 10)","                    .map(Action.child)","            default:","                return .none","            }","        }","    }","}","","extension ChildFeature.State {","    mutating func updateNumber(with count: Int) -> Effect<ChildFeature.Action> {","        self.count = count","        return .none","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","            .onAppear {","                store.send(.onAppear)","            }","        }","    }","}"],"fileName":"ParentFeature.swift","identifier":"01-01-03-code-0002.swift"},"https://pointfreeco.github.io/swift-composable-architecture/main/documentation/composablearchitecture/store/scope(state:action:)-90255":{"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/store\/scope(state:action:)-90255","url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/store\/scope(state:action:)-90255","titleInlineContent":[{"text":" scope(state:action:)","type":"text"}],"type":"link","title":" scope(state:action:)"},"01-01-01-code-0001.swift":{"type":"file","highlights":[],"fileType":"swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ChildFeature {","    @ObservableState","    struct State {","        var count: Int","    }","    ","    enum Action {","        case decrementButtonTapped","        case incrementButtonTapped","        case resetTapped","    }","    ","    var body: some ReducerOf<Self> {","        Reduce { state, action in","            switch action {","            case .incrementButtonTapped:","                state.count += 1","                return .none","            case .decrementButtonTapped:","                state.count -= 1","                return .none","            case .resetTapped:","                state.count = 0","                return .none","            }","        }","    }","}","","struct ChildView: View {","    let store: StoreOf<ChildFeature>","    ","    var body: some View {","        HStack {","            Button(\"-\") {","                store.send(.decrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","            Text(String(store.count))","                .font(.largeTitle)","                .padding()","                .background(Color.black.opacity(0.1))","                .cornerRadius(10)","                .onTapGesture {","                    store.send(.resetTapped)","                }","            Button(\"+\") {","                store.send(.incrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","        }","    }","}"],"fileName":"ChildFeature.swift","identifier":"01-01-01-code-0001.swift"},"https://pointfreeco.github.io/swift-composable-architecture/main/documentation/composablearchitecture/scope":{"url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope","titleInlineContent":[{"type":"text","text":" Scope"}],"title":" Scope","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope","type":"link"},"01-01-04-code-0004.swift":{"type":"file","highlights":[{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13}],"fileType":"swift","syntax":"swift","content":["import ComposableArchitecture","import Testing","","struct ParentFeatureTests {","    @Test func parentFeature() async {","        let store = await TestStore(","            initialState: ParentFeature.State(child: ChildFeature.State(count: 0)),","            reducer: ParentFeature.init","        )","        ","        await store.send(\\.onAppear) {","            $0.child.count = 10","        }","    }","}"],"fileName":"ParentFeatureTests.swift","identifier":"01-01-04-code-0004.swift"},"01-01-04-code-0002.swift":{"fileType":"swift","highlights":[{"line":7}],"identifier":"01-01-04-code-0002.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ChildFeature {","    @ObservableState","    struct State: Equatable {","        var count: Int","    }","    ","    enum Action {","        case decrementButtonTapped","        case incrementButtonTapped","        case resetTapped","    }","    ","    var body: some ReducerOf<Self> {","        Reduce { state, action in","            switch action {","            case .incrementButtonTapped:","                state.count += 1","                return .none","            case .decrementButtonTapped:","                state.count -= 1","                return .none","            case .resetTapped:","                state.count = 0","                return .none","            }","        }","    }","}","","struct ChildView: View {","    let store: StoreOf<ChildFeature>","    ","    var body: some View {","        HStack {","            Button(\"-\") {","                store.send(.decrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","            Text(String(store.count))","                .font(.largeTitle)","                .padding()","                .background(Color.black.opacity(0.1))","                .cornerRadius(10)","                .onTapGesture {","                    store.send(.resetTapped)","                }","            Button(\"+\") {","                store.send(.incrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","        }","    }","}"],"fileName":"ChildFeature.swift","syntax":"swift","type":"file"},"01-01-01-image-0001.png":{"alt":"iOS application showing a text view in the center displaying a 0 and two buttons positioned on each side of it, one for decrementing the count and one for incrementing.","variants":[{"url":"\/images\/com.learnwithromain.learnwithromain\/01-01-01-image-0001.png","traits":["1x","light"]}],"type":"image","identifier":"01-01-01-image-0001.png"},"https://pointfreeco.github.io/swift-composable-architecture/1.15.0/documentation/composablearchitecture":{"url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.15.0\/documentation\/composablearchitecture","titleInlineContent":[{"type":"text","text":"1.15"}],"title":"1.15","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.15.0\/documentation\/composablearchitecture","type":"link"},"https://pointfreeco.github.io/swift-composable-architecture/1.9.0/documentation/composablearchitecture/migratingto1.9#Sending-test-store-actions":{"title":"here","titleInlineContent":[{"text":"here","type":"text"}],"url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9#Sending-test-store-actions","type":"link","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9#Sending-test-store-actions"},"01-01-01-code-0002.swift":{"fileType":"swift","fileName":"ParentFeature.swift","type":"file","highlights":[],"identifier":"01-01-01-code-0002.swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        EmptyView()","    }","}",""]},"https://pointfreeco.github.io/swift-composable-architecture/main/documentation/composablearchitecture/performance/#Sharing-logic-in-child-features":{"title":"here","titleInlineContent":[{"type":"text","text":"here"}],"url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/performance\/#Sharing-logic-in-child-features","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/performance\/#Sharing-logic-in-child-features","type":"link"},"01-01-01-code-0003.swift":{"fileType":"swift","fileName":"ParentFeature.swift","type":"file","highlights":[{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21}],"identifier":"01-01-01-code-0003.swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Reduce { state, action in","            \/\/ Core logic of the app feature","            return .none","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        EmptyView()","    }","}",""]},"01-01-04-code-0003.swift":{"syntax":"swift","type":"file","highlights":[],"identifier":"01-01-04-code-0003.swift","content":["import ComposableArchitecture","import Testing","","struct ParentFeatureTests {","    @Test func parentFeature() async {","","    }","}"],"fileType":"swift","fileName":"ParentFeatureTests.swift"},"01-01-03-code-0001.swift":{"fileType":"swift","highlights":[{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30}],"identifier":"01-01-03-code-0001.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .child(.decrementButtonTapped):","                guard state.child.count < 0 else { return .none }","                ","                return ChildFeature()","                    .reduce(","                        into: &state.child,","                        action: .resetTapped","                    )","                    .map(Action.child)","            default:","                return .none","            }","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","        }","    }","}"],"fileName":"ParentFeature.swift","syntax":"swift","type":"file"},"doc://com.learnwithromain.learnwithromain/tutorials/RefineComposableArchitecture":{"type":"topic","url":"\/tutorials\/refinecomposablearchitecture","kind":"overview","title":"Refine the Composable Architecture","abstract":[{"type":"text","text":"This interactive tutorial aims to provide best practices for building a project with TCA "},{"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.15.0\/documentation\/composablearchitecture","isActive":true,"type":"reference"},{"text":" and Xcode 16. It brings together information to help developers apply TCA principles effectively in their projects.","type":"text"}],"role":"overview","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture"},"01-01-02-video-0001.mp4":{"poster":null,"variants":[{"url":"\/videos\/com.learnwithromain.learnwithromain\/01-01-02-video-0001.mp4","traits":["1x","light"]}],"alt":null,"identifier":"01-01-02-video-0001.mp4","type":"video"},"01-01-04-code-0001.swift":{"fileName":"ParentFeature.swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State: Equatable {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","        case onAppear","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .onAppear:","                return state.child","                    .updateNumber(with: 10)","                    .map(Action.child)","            default:","                return .none","            }","        }","    }","}","","extension ChildFeature.State {","    mutating func updateNumber(with count: Int) -> Effect<ChildFeature.Action> {","        self.count = count","        return .none","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","            .onAppear {","                store.send(.onAppear)","            }","        }","    }","}"],"fileType":"swift","syntax":"swift","highlights":[{"line":7}],"identifier":"01-01-04-code-0001.swift","type":"file"}}}