{"hierarchy":{"paths":[["doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture","doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/$volume","doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/Composing-features"]],"modules":[{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/Composing-features","projects":[{"sections":[{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Creating-a-parent-view-with-a-child-view","kind":"task"},{"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Child-to-Parent","kind":"task"},{"kind":"task","reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Parent-to-Child"},{"kind":"task","reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Testing-the-communication"}],"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial"}]}],"reference":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture"},"metadata":{"category":"The Composable Architecture","role":"project","categoryPathComponent":"RefineComposableArchitecture","title":"Building a Parent-Child Relationship"},"sections":[{"chapter":"Composing features","title":"Building a Parent-Child Relationship","content":[{"inlineContent":[{"text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them.","type":"text"}],"type":"paragraph"}],"kind":"hero","estimatedTimeInMinutes":20},{"kind":"tasks","tasks":[{"stepsSection":[{"type":"step","caption":[],"code":"01-01-01-code-0001.swift","content":[{"type":"paragraph","inlineContent":[{"text":"Create a new file named ","type":"text"},{"type":"codeVoice","code":"ChildFeature.swift"},{"text":". This feature contains decrement and increment buttons with a label specifying the current value, which can be tapped to reset its value to zero.","type":"text"}]}],"runtimePreview":"01-01-01-image-0001.png","media":null},{"caption":[{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"Since TCA 1.8, the @Reducer macro automatically fulfills the reducer requirements. The parent reducer does not have any state, actions, or logic yet, so we can omit them.","type":"text"}]}]}],"media":null,"runtimePreview":null,"type":"step","content":[{"inlineContent":[{"text":"Create a new file named ","type":"text"},{"type":"codeVoice","code":"ParentFeature.swift"},{"text":" with some basic scaffolding in place.","type":"text"}],"type":"paragraph"}],"code":"01-01-01-code-0002.swift"},{"inlineContent":[{"text":"Let’s compose the features together at the reducer level.","type":"text"}],"type":"paragraph"},{"code":"01-01-01-code-0003.swift","type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add State and Action to the reducer. The parent reducer will hold the state and actions of the child reducer."}]}],"runtimePreview":null,"caption":[],"media":null},{"content":[{"type":"paragraph","inlineContent":[{"text":"Next, we need to implement the body of the reducer. To compose the child reducer within the parent reducer, we use the ","type":"text"},{"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope","isActive":true,"type":"reference"},{"type":"text","text":" reducer. This allows us to focus on a sub-domain of the parent feature and run a child reducer on that sub-domain."}]}],"media":null,"type":"step","caption":[{"type":"aside","style":"note","content":[{"inlineContent":[{"type":"text","text":"It exposes child state and actions to the parent reducer."}],"type":"paragraph"}],"name":"Note"}],"runtimePreview":null,"code":"01-01-01-code-0004.swift"},{"inlineContent":[{"text":"Let’s compose the features together at the view level.","type":"text"}],"type":"paragraph"},{"runtimePreview":"01-01-01-image-0005.png","code":"01-01-01-code-0005.swift","media":null,"type":"step","caption":[],"content":[{"inlineContent":[{"type":"text","text":"Use the "},{"type":"reference","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/store\/scope(state:action:)-90255","isActive":true},{"type":"text","text":" method on the store to derive a child store focused in on just the child domain."}],"type":"paragraph"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The two views are now composed together:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"The parent state consists of its own values and the child state."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The parent reducer receives every action dispatched by the child reducer."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The child store is a scoped variant of the parent store."}]}]}]}],"title":"Creating a parent view with a child view","anchor":"Creating-a-parent-view-with-a-child-view","contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We will compose the parent and child features together."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is a practice that enables us to build complex functionality by combining smaller, more manageable features."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}]},{"stepsSection":[{"inlineContent":[{"type":"text","text":"Let’s see how the child should communicate with a parent feature."}],"type":"paragraph"},{"inlineContent":[{"text":"If the parent needs to respond to events happening in the child, it can simply listen to the corresponding actions that arrive in the reducer.","type":"text"}],"type":"paragraph"},{"runtimePreview":"01-01-02-video-0001.mp4","type":"step","caption":[{"style":"note","name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This is possible thanks to the "},{"type":"reference","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope","isActive":true},{"type":"text","text":" reducer."}]}]}],"code":"01-01-02-code-0001.swift","content":[{"inlineContent":[{"type":"text","text":"We just need to add an action to listen to from the child reducer."}],"type":"paragraph"}],"media":null},{"inlineContent":[{"text":"There is no need to add extra code to be aware of the current state of the child reducer since the parent reducer has a reference to it.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"As we can see, TCA follows a strict unidirectional data flow pattern (state flows from parent to child, events flows from child to parent…) which enforces immutability and a single source of truth. As the app grows, it simplifies handling complex interactions and state management.","type":"text"}],"type":"paragraph"}],"title":"Communication from Child to Parent","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"Parent-child communication refers to the exchange of information or triggering of actions between hierarchical views."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The terms “parent” and “child” are used to describe the relationship between different components or modules within an app."}],"type":"paragraph"}]}],"anchor":"Communication-from-Child-to-Parent"},{"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We’ve seen how the child communicates with its parent. The same approach cannot be followed from parent to child."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"title":"Communication from Parent to Child","anchor":"Communication-from-Parent-to-Child","stepsSection":[{"inlineContent":[{"type":"text","text":"If the parent wants to execute some logic within the child by reusing one of its actions, it should be done by directly invoking the child reducer."}],"type":"paragraph"},{"caption":[{"style":"note","name":"Note","type":"aside","content":[{"inlineContent":[{"text":"Find more details on sharing logic in child features ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/performance\/#Sharing-logic-in-child-features"},{"type":"text","text":"."}],"type":"paragraph"}]}],"type":"step","code":"01-01-03-code-0001.swift","runtimePreview":"01-01-03-video-0001.mp4","media":null,"content":[{"inlineContent":[{"type":"text","text":"To send an action from the parent to the child, invoke the child reducer using a reduce method. For example, if we want to ensure that the count never goes lower than zero, we can reuse a reset action."}],"type":"paragraph"}]},{"inlineContent":[{"text":"If the parent needs to update the state of the child without any shared logic available, we can create an extension on the child state.","type":"text"}],"type":"paragraph"},{"code":"01-01-03-code-0002.swift","type":"step","caption":[{"name":"Note","content":[{"inlineContent":[{"type":"text","text":"It is better to use a mutating method rather than updating the child state directly from the parent reducer, as a new child reducer would be recreated, potentially leading to lost states and increased complexity."}],"type":"paragraph"}],"type":"aside","style":"note"}],"media":null,"runtimePreview":"01-01-03-video-0002.mov","content":[{"inlineContent":[{"text":"We implement a mutating method where we update any necessary state and return an action. For example, let’s say we want to set the initial count to 10.","type":"text"}],"type":"paragraph"}]}]},{"anchor":"Testing-the-communication","contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"TCA facilitates unit testing by enabling isolated testing of components with well-defined inputs and outputs. This is achieved thanks to the reducers, which separate business logic from UI."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Reducers are functions that take the current state and an action as input and return a new state as output."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}],"title":"Testing the communication","stepsSection":[{"inlineContent":[{"type":"text","text":"Before we perform any assertions, the State must be "},{"type":"codeVoice","code":"Equatable"},{"text":".","type":"text"}],"type":"paragraph"},{"caption":[],"media":null,"runtimePreview":null,"type":"step","code":"01-01-04-code-0001.swift","content":[{"inlineContent":[{"type":"text","text":"In order to assert against sent actions from the parent store, its "},{"code":"State","type":"codeVoice"},{"type":"text","text":" must be "},{"type":"codeVoice","code":"Equatable"},{"type":"text","text":"."}],"type":"paragraph"}]},{"media":null,"caption":[],"code":"01-01-04-code-0002.swift","runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"In order to assert against sent actions from the child store, its ","type":"text"},{"type":"codeVoice","code":"State"},{"type":"text","text":" must also be "},{"type":"codeVoice","code":"Equatable"},{"text":".","type":"text"}]}]},{"type":"step","content":[{"inlineContent":[{"text":"Let’s begin by creating a ","type":"text"},{"type":"codeVoice","code":"ParentFeatureTests.swift"},{"text":" file with some basic scaffolding set up for the test.","type":"text"}],"type":"paragraph"}],"caption":[],"media":null,"runtimePreview":null,"code":"01-01-04-code-0003.swift"},{"media":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s first set up our test store and then assert how the state changes when the "},{"type":"codeVoice","code":"onAppear"},{"type":"text","text":" action is sent to the store."}]}],"runtimePreview":null,"code":"01-01-04-code-0004.swift","caption":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"type":"codeVoice","code":"TestStore"},{"type":"text","text":" provides a controlled environment for testing components of the architecture, such as reducers and effects."}]}],"style":"note","type":"aside","name":"Note"}]},{"code":"01-01-04-code-0005.swift","media":null,"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Finally, we’ll ensure the count value is correct by testing the increment, decrement, and reset behaviors of our child feature."}]}],"type":"step","caption":[{"content":[{"inlineContent":[{"type":"text","text":"Since TCA 1.9, we can use case key paths with the send method. This simplifies integration-style tests that send deeply-nested actions and aligns with the syntax of the receive method. Find more details "},{"isActive":true,"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9#Sending-test-store-actions","type":"reference"},{"type":"text","text":"."}],"type":"paragraph"}],"type":"aside","style":"note","name":"Note"}]}]}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial"},"kind":"project","variants":[{"paths":["\/tutorials\/learnwithromain\/parentchildtutorial"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"https://pointfreeco.github.io/swift-composable-architecture/main/documentation/composablearchitecture/scope":{"type":"link","title":" Scope","titleInlineContent":[{"text":" Scope","type":"text"}],"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope","url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/scope"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Communication-from-Parent-to-Child":{"type":"section","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Parent-to-Child","title":"Communication from Parent to Child","role":"pseudoSymbol","kind":"section","abstract":[{"text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them.","type":"text"}],"url":"\/tutorials\/learnwithromain\/parentchildtutorial#Communication-from-Parent-to-Child"},"01-01-04-code-0005.swift":{"highlights":[{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25}],"content":["import ComposableArchitecture","import XCTest","","@MainActor","final class ParentFeatureTests: XCTestCase {","    func testParentFeature() async {","        let store = TestStore(initialState: ParentFeature.State(child: ChildFeature.State(count: 0))) {","            ParentFeature()","        }","        ","        await store.send(\\.onAppear) {","            $0.child.count = 10","        }","        ","        await store.send(\\.child.incrementButtonTapped) {","            $0.child.count = 11","        }","        ","        await store.send(\\.child.resetTapped) {","            $0.child.count = 0","        }","        ","        await store.send(\\.child.decrementButtonTapped) {","            $0.child.count = -1","        }","    }","}"],"type":"file","fileName":"ParentFeatureTests.swift","fileType":"swift","syntax":"swift","identifier":"01-01-04-code-0005.swift"},"01-01-03-code-0002.swift":{"fileName":"ParentFeature.swift","type":"file","fileType":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","        case onAppear","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .onAppear:","                return state.child","                    .updateNumber(with: 10)","                    .map(Action.child)","            default:","                return .none","            }","        }","    }","}","","extension ChildFeature.State {","    mutating func updateNumber(with count: Int) -> Effect<ChildFeature.Action> {","        self.count = count","        return .none","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","            .onAppear {","                store.send(.onAppear)","            }","        }","    }","}"],"highlights":[{"line":13},{"line":23},{"line":24},{"line":25},{"line":26},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":50},{"line":51},{"line":52}],"syntax":"swift","identifier":"01-01-03-code-0002.swift"},"01-01-04-code-0003.swift":{"fileName":"ParentFeatureTests.swift","syntax":"swift","content":["import ComposableArchitecture","import XCTest","","@MainActor","final class ParentFeatureTests: XCTestCase {","    func testParentFeature() async {","","    }","}"],"identifier":"01-01-04-code-0003.swift","fileType":"swift","highlights":[],"type":"file"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Communication-from-Child-to-Parent":{"type":"section","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Communication-from-Child-to-Parent","title":"Communication from Child to Parent","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them."}],"url":"\/tutorials\/learnwithromain\/parentchildtutorial#Communication-from-Child-to-Parent"},"https://pointfreeco.github.io/swift-composable-architecture/1.9.0/documentation/composablearchitecture/migratingto1.9#Sending-test-store-actions":{"type":"link","title":"here","titleInlineContent":[{"type":"text","text":"here"}],"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9#Sending-test-store-actions","url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9#Sending-test-store-actions"},"https://pointfreeco.github.io/swift-composable-architecture/main/documentation/composablearchitecture/performance/#Sharing-logic-in-child-features":{"type":"link","title":"here","titleInlineContent":[{"type":"text","text":"here"}],"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/performance\/#Sharing-logic-in-child-features","url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/performance\/#Sharing-logic-in-child-features"},"https://pointfreeco.github.io/swift-composable-architecture/main/documentation/composablearchitecture/store/scope(state:action:)-90255":{"type":"link","title":" scope(state:action:)","titleInlineContent":[{"type":"text","text":" scope(state:action:)"}],"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/store\/scope(state:action:)-90255","url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/main\/documentation\/composablearchitecture\/store\/scope(state:action:)-90255"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Creating-a-parent-view-with-a-child-view":{"type":"section","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Creating-a-parent-view-with-a-child-view","title":"Creating a parent view with a child view","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them."}],"url":"\/tutorials\/learnwithromain\/parentchildtutorial#Creating-a-parent-view-with-a-child-view"},"01-01-02-code-0001.swift":{"highlights":[{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27}],"content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .child(.incrementButtonTapped):","                \/\/ We listen to the incrementButtonTapped child action","                return .none","            default:","                return .none","            }","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","        }","    }","}",""],"syntax":"swift","identifier":"01-01-02-code-0001.swift","type":"file","fileName":"ParentFeature.swift","fileType":"swift"},"01-01-01-image-0005.png":{"identifier":"01-01-01-image-0005.png","variants":[{"traits":["1x","light"],"url":"\/images\/01-01-01-image-0005.png"}],"type":"image","alt":"iOS application showing a text view in the center displaying a 0 and two buttons positioned on each side of it, one for decrementing the count and one for incrementing."},"01-01-03-code-0001.swift":{"syntax":"swift","type":"file","fileName":"ParentFeature.swift","fileType":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .child(.decrementButtonTapped):","                guard state.child.count < 0 else { return .none }","                ","                return ChildFeature()","                    .reduce(","                        into: &state.child,","                        action: .resetTapped","                    )","                    .map(Action.child)","            default:","                return .none","            }","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","        }","    }","}"],"identifier":"01-01-03-code-0001.swift","highlights":[{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30}]},"01-01-01-code-0004.swift":{"fileType":"swift","identifier":"01-01-01-code-0004.swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            \/\/ Core logic of the app feature","            return .none","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        EmptyView()","    }","}",""],"type":"file","highlights":[{"line":16},{"line":17},{"line":18},{"line":19}],"fileName":"ParentFeature.swift"},"https://pointfreeco.github.io/swift-composable-architecture/1.9.0/documentation/composablearchitecture/migratingto1.9":{"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9","url":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9","type":"link","title":"1.9","titleInlineContent":[{"text":"1.9","type":"text"}]},"01-01-02-video-0001.mp4":{"variants":[{"url":"\/videos\/01-01-02-video-0001.mp4","traits":["1x","light"]}],"identifier":"01-01-02-video-0001.mp4","alt":null,"type":"video","poster":null},"01-01-04-code-0001.swift":{"fileType":"swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State: Equatable {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","        case onAppear","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            switch action {","            case .onAppear:","                return state.child","                    .updateNumber(with: 10)","                    .map(Action.child)","            default:","                return .none","            }","        }","    }","}","","extension ChildFeature.State {","    mutating func updateNumber(with count: Int) -> Effect<ChildFeature.Action> {","        self.count = count","        return .none","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","            .onAppear {","                store.send(.onAppear)","            }","        }","    }","}"],"identifier":"01-01-04-code-0001.swift","type":"file","highlights":[{"line":7}],"fileName":"ParentFeature.swift"},"doc://com.learnwithromain.learnwithromain/tutorials/RefineComposableArchitecture/Composing-features":{"title":"Composing features","kind":"article","type":"topic","abstract":[],"identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture\/Composing-features","role":"article","url":"\/tutorials\/refinecomposablearchitecture\/composing-features"},"01-01-01-code-0002.swift":{"fileType":"swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        EmptyView()","    }","}",""],"identifier":"01-01-01-code-0002.swift","type":"file","highlights":[],"fileName":"ParentFeature.swift"},"01-01-03-video-0002.mov":{"identifier":"01-01-03-video-0002.mov","poster":null,"alt":null,"variants":[{"url":"\/videos\/01-01-03-video-0002.mov","traits":["1x","light"]}],"type":"video"},"01-01-01-code-0005.swift":{"fileType":"swift","identifier":"01-01-01-code-0005.swift","syntax":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Scope(state: \\.child, action: \\.child) {","            ChildFeature()","        }","        ","        Reduce { state, action in","            \/\/ Core logic of the app feature","            return .none","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        VStack {","            ChildView(store: store.scope(","                state: \\.child,","                action: \\.child","            ))","        }","    }","}",""],"type":"file","highlights":[{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36}],"fileName":"ParentFeature.swift"},"01-01-04-code-0002.swift":{"fileType":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ChildFeature {","    @ObservableState","    struct State: Equatable {","        var count: Int","    }","    ","    enum Action {","        case decrementButtonTapped","        case incrementButtonTapped","        case resetTapped","    }","    ","    var body: some ReducerOf<Self> {","        Reduce { state, action in","            switch action {","            case .incrementButtonTapped:","                state.count += 1","                return .none","            case .decrementButtonTapped:","                state.count -= 1","                return .none","            case .resetTapped:","                state.count = 0","                return .none","            }","        }","    }","}","","struct ChildView: View {","    let store: StoreOf<ChildFeature>","    ","    var body: some View {","        HStack {","            Button(\"-\") {","                store.send(.decrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","            Text(String(store.count))","                .font(.largeTitle)","                .padding()","                .background(Color.black.opacity(0.1))","                .cornerRadius(10)","                .onTapGesture {","                    store.send(.resetTapped)","                }","            Button(\"+\") {","                store.send(.incrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","        }","    }","}"],"syntax":"swift","identifier":"01-01-04-code-0002.swift","type":"file","highlights":[{"line":7}],"fileName":"ChildFeature.swift"},"01-01-04-code-0004.swift":{"highlights":[{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13}],"identifier":"01-01-04-code-0004.swift","fileType":"swift","content":["import ComposableArchitecture","import XCTest","","@MainActor","final class ParentFeatureTests: XCTestCase {","    func testParentFeature() async {","        let store = TestStore(initialState: ParentFeature.State(child: ChildFeature.State(count: 0))) {","            ParentFeature()","        }","        ","        await store.send(\\.onAppear) {","            $0.child.count = 10","        }","    }","}"],"syntax":"swift","type":"file","fileName":"ParentFeatureTests.swift"},"doc://com.learnwithromain.learnwithromain/tutorials/RefineComposableArchitecture":{"title":"Refine the Composable Architecture","kind":"overview","abstract":[{"type":"text","text":"This interactive tutorial aims to provide best practices for building a project with TCA "},{"identifier":"https:\/\/pointfreeco.github.io\/swift-composable-architecture\/1.9.0\/documentation\/composablearchitecture\/migratingto1.9","isActive":true,"type":"reference"},{"text":". It brings together information to help developers apply TCA principles effectively in their projects.","type":"text"}],"role":"overview","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/RefineComposableArchitecture","url":"\/tutorials\/refinecomposablearchitecture","type":"topic"},"01-01-01-code-0003.swift":{"type":"file","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ParentFeature {","    @ObservableState","    struct State {","        var child: ChildFeature.State","    }","    ","    enum Action {","        case child(ChildFeature.Action)","    }","    ","    var body: some ReducerOf<Self> {","        Reduce { state, action in","            \/\/ Core logic of the app feature","            return .none","        }","    }","}","","struct ParentView: View {","    let store: StoreOf<ParentFeature>","    ","    var body: some View {","        EmptyView()","    }","}",""],"fileName":"ParentFeature.swift","identifier":"01-01-01-code-0003.swift","highlights":[{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21}],"syntax":"swift","fileType":"swift"},"01-01-01-code-0001.swift":{"fileType":"swift","content":["import ComposableArchitecture","import SwiftUI","","@Reducer","struct ChildFeature {","    @ObservableState","    struct State {","        var count: Int","    }","    ","    enum Action {","        case decrementButtonTapped","        case incrementButtonTapped","        case resetTapped","    }","    ","    var body: some ReducerOf<Self> {","        Reduce { state, action in","            switch action {","            case .incrementButtonTapped:","                state.count += 1","                return .none","            case .decrementButtonTapped:","                state.count -= 1","                return .none","            case .resetTapped:","                state.count = 0","                return .none","            }","        }","    }","}","","struct ChildView: View {","    let store: StoreOf<ChildFeature>","    ","    var body: some View {","        HStack {","            Button(\"-\") {","                store.send(.decrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","            Text(String(store.count))","                .font(.largeTitle)","                .padding()","                .background(Color.black.opacity(0.1))","                .cornerRadius(10)","                .onTapGesture {","                    store.send(.resetTapped)","                }","            Button(\"+\") {","                store.send(.incrementButtonTapped)","            }","            .font(.largeTitle)","            .padding()","            .background(Color.black.opacity(0.1))","            .cornerRadius(10)","        }","    }","}"],"syntax":"swift","identifier":"01-01-01-code-0001.swift","type":"file","highlights":[],"fileName":"ChildFeature.swift"},"01-01-01-image-0001.png":{"identifier":"01-01-01-image-0001.png","variants":[{"traits":["1x","light"],"url":"\/images\/01-01-01-image-0001.png"}],"type":"image","alt":"iOS application showing a text view in the center displaying a 0 and two buttons positioned on each side of it, one for decrementing the count and one for incrementing."},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial#Testing-the-communication":{"identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial#Testing-the-communication","kind":"section","url":"\/tutorials\/learnwithromain\/parentchildtutorial#Testing-the-communication","role":"pseudoSymbol","abstract":[{"text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them.","type":"text"}],"type":"section","title":"Testing the communication"},"doc://com.learnwithromain.learnwithromain/tutorials/learnwithromain/ParentChildTutorial":{"estimatedTime":"20min","title":"Building a Parent-Child Relationship","kind":"project","abstract":[{"type":"text","text":"Learn how to facilitate parent-child communication within TCA features. We will create both a parent and child feature and establish communication between them."}],"role":"project","url":"\/tutorials\/learnwithromain\/parentchildtutorial","identifier":"doc:\/\/com.learnwithromain.learnwithromain\/tutorials\/learnwithromain\/ParentChildTutorial","type":"topic"},"01-01-03-video-0001.mp4":{"identifier":"01-01-03-video-0001.mp4","alt":null,"type":"video","poster":null,"variants":[{"traits":["1x","light"],"url":"\/videos\/01-01-03-video-0001.mp4"}]}}}